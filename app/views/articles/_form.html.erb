<%= render partial: "shared/header" %>

<div class="d-flex flex-md-column">
  <%= form_for @article do |f| %>
    <div class="form-group">
      <%= f.label :title %><br />
      <%= f.text_field :title, autofocus: true, class:"form-control", id:"formGroupExampleInput", placeholder:"Article Title" %>
    </div>
    <div class="form-group">
      <%= f.label :explain %><br />
      <%= f.text_field :explain, class:"form-control", id:"formGroupExampleInput2", placeholder:"a few article explain" %>
    </div>

<!-- content text -->
  <div class="form-group">
    <div id='editor'>
      <%= f.label :text %><br />
      <textarea name="article[text]" id="n" class="form-control" rows="20" v-model='input' debounce='50' placeholder="Article main content" style="width: 50%;">
      </textarea>
<!-- js auto text start-->
      <div class="card smooth-scroll" style="height: 420px; width: 50%;">
        <div class="card-body">
          <div class="di_inline_t preview">
            <div v-html='input | marked' style: :"width: 650px;">
          </div>
        </div>
      </div>
<!-- js auto text end-->
    </div>
  </div>

    <div class="form-group">
      <div class="col-sm-10 offset-sm-2">
        <%= f.submit "Submit", class:"btn btn-primary" %>
      </div>
    </div>
  <% end %>
</div>



<script type="text/javascript">
  window.onload = function() {
      new Vue({
        el: '#editor',
        data: {
        input: '<%== j @article.text %>',
      },
        filters: {
        marked: marked,
      },
    });
  };
</script>
